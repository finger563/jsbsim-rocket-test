<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="http://jsbsim.sourceforge.net/JSBSim.xsl"?>

<fdm_config name="my_aircraft" version="2.0" release="ALPHA"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:noNamespaceSchemaLocation="http://jsbsim.sourceforge.net/JSBSim.xsd">

 <fileheader>
  <author> AeromatiC++ version 3.3.21 </author>
  <filecreationdate> 16 May 2025 </filecreationdate>
  <version>$Revision: 1.80 $</version>
  <description> Models a my_aircraft. </description>
 </fileheader>

<!--
  File:     my_aircraft.xml
  Input parameters:
    Output directory                   : C:\Users\bob\Downloads\
    Create a subdirectory?             : yes
    Overwrite?                         : yes
    Aircraft name                      : my_aircraft
    Use dedicated system files?        : yes
    Select a system of measurement     : no
    Type of aircraft                   : 0
    Stall speed VS1 (clean, no flaps)  : 795.46
    Maximum takeoff weight             : 47.00
    Empty weight                       : 43.00
    Inertia Ixx                        : 0.01
    Inertia Iyy                        : 3.50
    Inertia Izz                        : 1.33
    Length                             : 9.00
    Select a wing shape                : 2
    Wing span                          : 0.50
    Wing area                          : 0.25
    Wing aspect ratio                  : 5.50
    Wing taper ratio                   : 4.00
    Wing root chord                    : 0.09
    Wing incidence                     : 0.00
    Wing dihedral                      : 0.00
    Wing sweep (quarter chord)         : 0.00
    Htail area                         : 0.04
    Htail arm                          : 4.68
    Vtail area                         : 0.03
    Vtail arm                          : 4.50
    Propulsion                         : yes
    Engine name                        : my_engine
    Number of engines                  : 1
    Engine layout                      : 2
    Engine type                        : 3
    Engine thrust                      : 444.00
    Nozzle name                        : my_nozzle
    Nozzle diameter                    : 0.25
    Landing Gear                       : no
    Flaps                              : no
    Spoilers                           : no
    Chute                              : yes

  Specifications:
    name:          my_aircraft
    type:          Single engine Glider, Small Commuter
    stall speed:   795.46 kt
    max weight:    47.00 lbs
    Fuselage: 
     length:        9.00 ft
     diameter:      4.50 ft
     finess ratio:  2.00
    wing: 
     span:         0.50 ft
     area:         0.25 ft2
     mean chord:   0.09 ft
     aspect ratio: 5.50:1
     taper ratio:  4.00:1
     incidence:    0.00 degrees
     dihedral:     0.00 degrees
     sweep:        0.00 degrees
     t/c:          0.01 %

    no. engines:   1
    engine type:   Rocket Engine
    engine layout: aft fuselage

  Outputs:
    wing loading:       188.00 lbs/sq-ft
     - thickness ratio: 0.01%
    payload:            -2.96 lbs
    CL-alpha:           403.03 per radian
    CL-0:               0.01
    CL-max:             0.09
    CD-0:               0.00
    K:                  0.04
    Mcrit:              0.70

    min. turn radius    30928.67 ft
    max. turn rate:     0.05 deg/s
-->

 <metrics>
   <wingarea  unit="FT2"> 0.196     </wingarea>  <!-- Pi * (0.25)^2 for 6" diameter -->
   <wingspan  unit="FT" > 0.50     </wingspan>   <!-- Minimal fins -->
   <wing_incidence unit="DEG"> 0.00 </wing_incidence>
   <chord     unit="FT" > 0.09     </chord>
   <htailarea unit="FT2"> 0.04     </htailarea>
   <htailarm  unit="FT" > 4.68     </htailarm>
   <vtailarea  unit="FT2">0.03     </vtailarea>
   <vtailarm  unit="FT" > 4.50     </vtailarm>
   <location name="AERORP" unit="FT">  <!-- Center of Pressure at 68.1" -->
     <x> 5.675     </x>
     <y> 0.00     </y>
     <z> 0.00     </z>
   </location>
   <location name="EYEPOINT" unit="FT">
     <x> 1.17     </x>
     <y> -1.50    </y>
     <z> 3.75     </z>
   </location>
   <location name="VRP" unit="FT">
     <x>     0.0 </x>
     <y>     0.0 </y>
     <z>     0.0 </z>
   </location>
 </metrics>

 <mass_balance>
   <ixx unit="SLUG*FT2">  0.1     </ixx>  <!-- Roll inertia for 6" diameter rocket -->
   <iyy unit="SLUG*FT2">  8.5     </iyy>   <!-- Pitch/Yaw inertia for 109" rocket -->
   <izz unit="SLUG*FT2">  8.5     </izz>   <!-- Pitch/Yaw inertia for 109" rocket -->
   <emptywt unit="LBS" >  43.00    </emptywt>  <!-- From specs -->
   <location name="CG" unit="FT">  <!-- Center of Gravity at 54.9" -->
     <x> 4.575     </x>
     <y> 0.00     </y>
     <z> 0.00     </z>
   </location>
   <pointmass name="Motor">
    <description> Cesaroni L1720 motor propellant mass </description>
    <weight unit="LBS"> 3.9 </weight>  <!-- Wet mass 46.9 - dry mass 43.0 -->
    <location name="POINTMASS" unit="FT">  <!-- Motor location at rear -->
     <x> 7.5     </x>  <!-- Around 90" from nose -->
     <y> 0.00     </y>
     <z> 0.00    </z>
   </location>
  </pointmass>
 </mass_balance>

 <propulsion>
    <engine file="cesaroni_l1720_engine">
        <feed>0</feed>
        <running>0</running>
        <starter>0</starter>
        <thruster file="l1720_nozzle">
            <location unit="FT">  <!-- Motor at rear of rocket -->
                <x>9.08</x>  <!-- 109" from nose -->
                <y>0.0</y>
                <z>0.0</z>
            </location>
            <orient>
                <pitch unit="DEG">0.0</pitch>  <!-- Pointing aft -->
                <yaw unit="DEG">0.0</yaw>
            </orient>
        </thruster>
    </engine>
    <tank type="FUEL">
        <fuel_type>FUEL</fuel_type>
        <location unit="FT">  <!-- Motor fuel location -->
            <x>7.5</x>  <!-- Motor center -->
            <y>0.0</y>
            <z>0.0</z>
        </location>
        <capacity unit="LBS">3.9</capacity>  <!-- L1720 propellant mass -->
        <contents unit="LBS">3.9</contents>
    </tank>
 </propulsion>

 <system file="Conventional Controls.xml"/>
 <system file="Landing Gear.xml"/>
 <!-- <system file="Rescue Chute (Ballistic Recovery System).xml"/> -->

 <flight_control name="FCS: My Aircraft">
   <channel name="Landing Gear">
    <switch name="fcs/gear-no-wow">
      <default value="1"/>
    </switch>
  </channel>
 </flight_control>

 <aerodynamics>

  <axis name="LIFT">

    <!-- Lift above 0.85 and below -0.85 is generalised -->
    <function name="aero/force/Lift_alpha">
      <description>Lift due to alpha</description>
      <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
              -1.57  0.0000
              -1.22 -0.6427
              -1.05 -0.8659
              -0.88 -0.9999
               0.00  0.0878
               0.88  1.0001
               1.05  0.8661
               1.22  0.6429
               1.57  0.0000
            </tableData>
          </table>
      </product>
    </function>

    <function name="aero/force/Lift_pitch_rate">
        <description>Lift due to pitch rate</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>velocities/q-aero-rad_sec</property>
          <property>aero/ci2vel</property>
          <value> -11110.6172 </value>
        </product>
      </function>

      <function name="aero/force/Lift_alpha_rate">
        <description>Lift due to alpha rate</description>
        <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/alphadot-rad_sec</property>
           <property>aero/ci2vel</property>
           <value> -5925.6626 </value>
        </product>
      </function>

    <function name="aero/force/Lift_elevator">
       <description>Lift due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/elevator-pos-rad</property>
           <value> 0.4291 </value>
       </product>
    </function>

  </axis>

  <axis name="DRAG">

    <!-- CD0 is based on fuselage, wing, horizontal- en vertical tail -->
    <!-- CD for gear (fixed and retractable) is defined below         -->
    <function name="aero/force/Drag_minimum">
       <description>Minimum drag - rocket body drag coefficient</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <value> 0.45 </value>  <!-- Typical rocket CD ~0.45 for 6" diameter -->
       </product>
    </function>

    <function name="aero/force/Drag_alpha">
       <description>Drag due to alpha</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/alpha-rad</independentVar>
            <tableData>
             -1.57    2.3091
              0.00    0.0000
              1.57    2.3091
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_induced">
       <description>Induced drag</description>
         <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/cl-squared</property>
           <value> 0.0072 </value>
         </product>
    </function>

    <function name="aero/force/Drag_mach">
       <description>Drag due to mach</description>
        <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
                0.00    0.0000
                0.70    0.0000
                1.10    0.0230
                1.80    0.0150
            </tableData>
          </table>
        </product>
    </function>

    <function name="aero/force/Drag_beta">
       <description>Drag due to sideslip</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <table>
            <independentVar lookup="row">aero/beta-rad</independentVar>
            <tableData>
              -1.57    1.2300
              -0.26    0.0500
               0.00    0.0000
               0.26    0.0500
               1.57    1.2300
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/force/Drag_elevator">
       <description>Drag due to Elevator Deflection</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <abs><property>fcs/elevator-pos-rad</property></abs>
           <value> 0.0400 </value>
       </product>
    </function>

  </axis>

  <axis name="SIDE">

    <function name="aero/force/Side_beta">
       <description>Side force due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/beta-rad</property>
           <value> 76.9778 </value>
       </product>
    </function>
    <function name="aero/force/Side_roll_rate">
       <description>Side force due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/Re</independentVar>
             <tableData>
                  777770     -2.6844
                  855547     -0.2287
                 1166655     -0.1016
                 2177756     -0.0292
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/force/Side_yaw_rate">
       <description>Side force due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> -1385.5996 </value>
       </product>
    </function>

    <function name="aero/force/Side_rudder">
       <description>Side force due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> 0.1407 </value>
       </product>
    </function>

  </axis>

  <axis name="PITCH">

    <function name="aero/moment/Pitch_alpha">
       <description>Pitch moment due to alpha - rocket stability</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/alpha-rad</property>
           <value> -2.5 </value>  <!-- More stable due to fins and CP aft of CG -->
       </product>
    </function>

    <function name="aero/moment/Pitch_elevator">
       <description>Pitch moment due to elevator</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/cbarw-ft</property>
          <property>fcs/elevator-pos-rad</property>
          <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    -1.1000
              2.0    -0.2750
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Pitch_damp">
       <description>Pitch moment due to pitch rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>velocities/q-aero-rad_sec</property>
           <value> -12.0000 </value>
       </product>
    </function>

    <function name="aero/moment/Pitch_alphadot">
       <description>Pitch moment due to alpha rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/cbarw-ft</property>
           <property>aero/ci2vel</property>
           <property>aero/alphadot-rad_sec</property>
           <value> -7.0000 </value>
       </product>
    </function>

  </axis>

  <axis name="ROLL">

    <function name="aero/moment/Roll_beta">
       <description>Roll moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <property>fcs/gear-no-wow</property>
           <table>
             <independentVar lookup="row">aero/alpha-rad</independentVar>
             <independentVar lookup="column">aero/Re</independentVar>
             <tableData>
                              777770      855547     1166655     2177756
                 -0.0349   -101.3313   -101.3144   -101.3135   -101.3130
                  0.3491   -101.3313   -101.3144   -101.3135   -101.3130
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Roll_damp">
       <description>Roll moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-aero-rad_sec</property>
           <value> -87.1016 </value>
       </product>
    </function>

    <function name="aero/moment/Roll_yaw">
       <description>Roll moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/alpha-rad</independentVar>
             <independentVar lookup="column">aero/Re</independentVar>
             <tableData>
                              777770      855547     1166655     2177756
                 -0.0349   2767.6846   2767.6846   2767.6846   2767.6846
                  0.3491   2806.3723   2806.3723   2806.3723   2806.3723
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Roll_aileron">
       <description>Roll moment due to aileron</description>
       <product>
          <property>aero/qbar-psf</property>
          <property>metrics/Sw-sqft</property>
          <property>metrics/bw-ft</property>
          <property>fcs/left-aileron-pos-rad</property>
           <table>
            <independentVar lookup="row">velocities/mach</independentVar>
            <tableData>
              0.0    0.1700
              2.0    0.0425
            </tableData>
          </table>
       </product>
    </function>

    <function name="aero/moment/Roll_rudder">
       <description>Roll moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> 0.0100 </value>
       </product>
    </function>

  </axis>

  <axis name="YAW">

    <!-- Stall initiator -->
    <function name="aero/moment/Yaw_alpha">
       <description>Yaw moment due to alpha</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/alpha-rad</property>
           <property>fcs/gear-no-wow</property>
           <table>
             <independentVar lookup="row">aero/beta-rad</independentVar>
             <independentVar lookup="column">aero/Re</independentVar>
             <tableData>
                              777770      855547
                 -0.3491     -1.0000      0.0000
                  0.3491      1.0000      0.0000
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Yaw_beta">
       <description>Yaw moment due to beta</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/beta-rad</property>
           <value> -332.9038 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_roll_rate">
       <description>Yaw moment due to roll rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/p-rad_sec</property>
           <table>
             <independentVar lookup="row">aero/Re</independentVar>
             <tableData>
                  777770     24.1594
                  855547      2.0584
                 1166655      0.9148
                 2177756      0.2625
             </tableData>
           </table>
       </product>
    </function>

    <function name="aero/moment/Yaw_damp">
       <description>Yaw moment due to yaw rate</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>aero/bi2vel</property>
           <property>velocities/r-aero-rad_sec</property>
           <value> 5992.2666 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_rudder">
       <description>Yaw moment due to rudder</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/rudder-pos-rad</property>
           <value> -1.2659 </value>
       </product>
    </function>

    <function name="aero/moment/Yaw_aileron">
       <description>Adverse yaw</description>
       <product>
           <property>aero/qbar-psf</property>
           <property>metrics/Sw-sqft</property>
           <property>metrics/bw-ft</property>
           <property>fcs/left-aileron-pos-rad</property>
           <value> -0.0100 </value>
       </product>
    </function>

  </axis>

 </aerodynamics>

 <external_reactions>
  <property value="0">external_reactions/drogue_chute/drag_area</property>
  <property value="0">external_reactions/main_chute/drag_area</property>

  <force name="drogue_chute" frame="WIND">
   <function>
    <product>
     <property>aero/qbar-psf</property>
     <property>external_reactions/drogue_chute/drag_area</property>
    </product>
   </function>
   <location unit="FT">  <!-- Nose of rocket for drogue -->
    <x> 0 </x>
    <y> 0 </y>
    <z> 0 </z>
   </location>
   <direction>
    <x>-1 </x>  <!-- Opposes forward motion -->
    <y> 0 </y>
    <z> 0 </z>
   </direction>
  </force>

  <force name="main_chute" frame="WIND">
   <function>
    <product>
     <property>aero/qbar-psf</property>
     <property>external_reactions/main_chute/drag_area</property>
    </product>
   </function>
   <location unit="FT">  <!-- Nose of rocket for main chute -->
    <x> 0 </x>
    <y> 0 </y>
    <z> 0 </z>
   </location>
   <direction>
    <x>-1 </x>  <!-- Opposes forward motion -->
    <y> 0 </y>
    <z> 0 </z>
   </direction>
  </force>

 </external_reactions>

 <ground_reactions>
    <contact type="BOGEY" name="LAUNCH_RAIL">
        <location unit="FT">  <!-- Launch rail contact at base of rocket -->
            <x>9.08</x>  <!-- Bottom of rocket -->
            <y>0.0</y>
            <z>-0.25</z>  <!-- Reduced offset to prevent immediate ground contact -->
        </location>
        <static_friction>0.8</static_friction>
        <dynamic_friction>0.7</dynamic_friction>
        <rolling_friction>0.01</rolling_friction>
        <spring_coeff unit="LBS/FT">2000.0</spring_coeff>  <!-- Reduced for stability -->
        <damping_coeff unit="LBS/FT/SEC">200.0</damping_coeff>  <!-- Reduced for stability -->
        <max_steer unit="DEG">0.0</max_steer>
        <brake_group>NONE</brake_group>
    </contact>
    <contact type="BOGEY" name="NOSE_CONTACT">
        <location unit="FT">  <!-- Nose contact for landing -->
            <x>0.0</x>  <!-- Nose of rocket -->
            <y>0.0</y>
            <z>-0.25</z>  <!-- Reduced offset to prevent immediate ground contact -->
        </location>
        <static_friction>0.6</static_friction>
        <dynamic_friction>0.5</dynamic_friction>
        <rolling_friction>0.02</rolling_friction>
        <spring_coeff unit="LBS/FT">1000.0</spring_coeff>  <!-- Reduced for stability -->
        <damping_coeff unit="LBS/FT/SEC">100.0</damping_coeff>  <!-- Reduced for stability -->
        <max_steer unit="DEG">0.0</max_steer>
        <brake_group>NONE</brake_group>
    </contact>
</ground_reactions>

</fdm_config>
